<article>
    <div id="articles-header">
        <h1><a href="/articles/20220206/">JS递归遍历伪数组</a></h1>
        <p class="articles-info">
            <time>2022-02-06</time> •
            <span class="i_small ri:archive-line"></span>
            <span class="class">
                <a>技术</a>
            </span> •
            <span class="i_small ri:t-box-line"></span> <span id="textLength">----字</span> •
            <span class="i_small ri:search-eye-line"></span> <span id="pageVisitors">---</span>
        </p>
        <p class="articles-tags">
            <span class="i_small ri:price-tag-3-line"></span>
            <a>JAVASCRIPT</a>
        </p>
        <hr>
    </div>

    <div id="articles-body">
        <h2>前言</h2>
        <p>
            最近在用getElementsByTagName获取标签内容时，发现与getElementById/ClassName等不同，<br>
            直接document.getElementsByTagName('').id修改页面中所有标签的id时没有反应...<br>
            console.log输出一下，发现输出的是[li,li,li,li,li]这种形式的伪数组(集合)
        </p>
        <h2>原理</h2>
        <p>
            这里既然是以集合的方式输出，就可以用逐项穷举的方式将其中的项挨个执行。<br>
            首先储存这个集合:<sup><em>*这里以li为例</em></sup><br>
            <div class="codeline">
                <pre>
                    <span>var lis = document.getElementsByTagName('li')</span>
                </pre>
            </div>
            然后用for循环递归:<br>
            <div class="codeline">
                <pre>
                    <span>for(var i = 0;</span>
                    <span>    i < lis.length;</span>
                        <span>    i ++){</span>
                        <span>console.log(lis[i])}</span>
                    </pre>
                </div>
                这里直接输出了，在这个时候就可以用document.等
            </p>
            <h2>应用</h2>
            <p>
                给页面内所有span加入加载特效：
                <div class="codeline">
                    <pre>
                        <span>/* CSS */</span>
                        <span>span {</span>
                        <span>    position: relative;</span>
                        <span>    animation-name: startloadingspan;</span>
                        <span>    animation-duration: 0.8s;</span>
                        <span>}</span>
                        <span></span>
                        <span>@keyframes startloadingspan {</span>
                        <span>    0% {</span>
                        <span>        opacity: 0;</span>
                        <span>    }</span>
                        <span>    100% {</span>
                        <span>        opacity: 1;</span>
                        <span>    }</span>
                        <span>}</span>
                        <span></span>
                        <span>span#active {</span>
                        <span>    position: relative;</span>
                        <span>    animation-name: endloadingspan;</span>
                        <span>    animation-duration: 0.8s</span>
                        <span>    animation-fill-mode: forwards;</span>
                        <span>}</span>
                        <span></span>
                        <span>@keyframes endloadingspan {</span>
                        <span>    0% {</span>
                        <span>        opacity: 1;</span>
                        <span>    }</span>
                        <span>    100% {</span>
                        <span>        opacity: 0;</span>
                        <span>    }</span>
                        <span>}</span>
                        <span></span>
                        <span>//JavaScript</span>
                        <span>window.onbeforeunload = function (e) {</span>
                        <span>    document.getElementById("text").id = "active";</span>
                        <span>    var spans = document.getElementsByTagName('span');</span>
                        <span>    for(var i = 0;i < spans.length;i ++){</span>
                            <span>       (spans[i]).id = "active";}</span>
                            <span>}</span>
                        </pre>
                    </div>
                </p>
                <h2>后言</h2>
                <p>
                    最近忙着升级主题，但是确实没有时间...这坑要慢慢填<br>
                    这是2022的第一篇文章，但估计之后很长一段时间内也不会更多少博客，可能这也是2022的最后一篇文章了吧<br>
                    新年快乐。
                </p>
            </div>
            <div id="articles-footer">
                <hr>
                <div class="articles-footer-cc">
                    <span class="i_small ri:information-line"></span> 原创内容使用 <a href="/help#分享协议">
                        <span class="i_small ri:creative-commons-line"></span><span class="i_small ri:creative-commons-nc-line"></span><span class="i_small ri:creative-commons-nd-line"></span>知识共享 署名-非商业性使用-相同方式共享 4.0 (CC BY-NC-ND 4.0)
                    </a>
                    协议授权。转载请注明出处。
                </div>
                <div id="blockchain-data"></div>
                <div id="more-articles">
                    <div id="previous" onclick="pjaxLoad('${previousArticlesUrl}')">
                        <b><span class="i_small ri:arrow-left-s-line"></span> 上一篇</b><br>
                        <span class="one-line">正在加载中...</span>
                    </div>
                    <div id="next" onclick="pjaxLoad('${nextArticlesUrl}')">
                        <b>下一篇 <span class="i_small ri:arrow-right-s-line"></span></b><br>
                        <span class="one-line">正在加载中...</span>
                    </div>
                </div>
                <br><br>
                <div id="tcomment">
                    <div class="info center">
                        <span class="i_small ri:download-cloud-line"></span> 正在加载评论...
                    </div>
                </div>
            </div>
        </article>